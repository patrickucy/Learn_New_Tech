<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Controller</title>
</head>
<body>

<div ng-app="">


    <div ng-controller="firstController">
        <input type="text" value="" ng-model="name">
        changed {{count}} times ... {{name}}
    </div>
</div>


</body>

<script type="text/javascript" src="../vendor/angularjs/angular.js"></script>
<script>
    var firstController = function ($scope) {
        $scope.name = 'zhangsan';
        $scope.count = 0;

        $scope.data = {
            name : 'lisi',
            count : 20
        }

        // 监听一个model, 当一个model 每次改变的时候,都会触发第二个函数
        $scope.$watch('name', function (newVal, oldVal) {
            ++$scope.count;
            if ($scope.count > 30) {
                $scope.name = "it's already more 30 times !!!!!"
            }
        }); // 自动相关上面的name属性

        $scope.$watch('data', function(){}, true); // 这里的为true是表示检查data对象里面所有的属性, 要不然就只检查data对象
    };


</script>

</html>